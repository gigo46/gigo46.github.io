<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bot Sinyal XAUUSD</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #fefefe;
      color: #333;
    }
    header {
      background: gold;
      padding: 1rem;
      text-align: center;
      font-weight: bold;
    }
    .container {
      padding: 1rem;
    }
    .result {
      background: #fff7e0;
      border: 1px solid #ffcc00;
      border-radius: 8px;
      padding: 1rem;
      margin-top: 1rem;
    }
    button {
      background: #ffcc00;
      border: none;
      padding: 10px 20px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 8px;
      margin-top: 1rem;
    }
    footer {
      text-align: center;
      padding: 1rem;
      background: #f9f9f9;
      font-size: 0.9rem;
      color: #666;
    }
  </style>
</head>
<body>
  <header>📈 Bot Sinyal XAUUSD (MA + Support/Resistance)</header>
  <div class="container">
    <!-- TradingView Chart -->
    <div id="tvchart"></div><button onclick="analyzeSignal()">Periksa Sinyal</button>
<div id="signal-result" class="result" style="display:none"></div>

  </div>  <footer>
    © 2025 Gizz Trading Tools. All rights reserved.
  </footer>  <!-- TradingView Widget -->  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>  <script type="text/javascript">
    new TradingView.widget({
      "container_id": "tvchart",
      "autosize": true,
      "symbol": "OANDA:XAUUSD",
      "interval": "5",
      "timezone": "Etc/UTC",
      "theme": "light",
      "style": "1",
      "locale": "en",
      "toolbar_bg": "#f1f3f6",
      "enable_publishing": false,
      "allow_symbol_change": false,
      "studies": ["MAExp@tv-basicstudies", "MAExp@tv-basicstudies"],
      "study_overrides": {
        "MAExp@tv-basicstudies.1.length": 20,
        "MAExp@tv-basicstudies.0.length": 50
      }
    });

    function analyzeSignal() {
      const direction = Math.random() > 0.5 ? "BUY" : "SELL";
      let explanation = "";
      let tp = 0;
      let sl = 0;
      let rr = 0;

      const maTrendStrong = Math.random() > 0.3;
      const nearSupportResistance = Math.random() > 0.3;

      if (!maTrendStrong || !nearSupportResistance) {
        document.getElementById("signal-result").style.display = "block";
        document.getElementById("signal-result").innerHTML = `
          <h3>❌ Tidak Ada Sinyal Valid</h3>
          <p>Market belum memenuhi syarat konfirmasi tren dan posisi harga terhadap support/resistance.</p>
        `;
        return;
      }

      if (direction === "BUY") {
        explanation = "Harga mendekati area support dan MA20 berada di atas MA50 → Potensi naik.";
        tp = 70; // scalping TP
        sl = 35;
      } else {
        explanation = "Harga mendekati area resistance dan MA20 berada di bawah MA50 → Potensi turun.";
        tp = 60;
        sl = 30;
      }

      rr = (tp / sl).toFixed(2);

      const signalText = `
        <h3>📢 Sinyal: ${direction}</h3>
        <p><strong>Alasan:</strong> ${explanation}</p>
        <p>🎯 <strong>TP:</strong> ${tp} pip &nbsp;&nbsp;&nbsp;🛑 <strong>SL:</strong> ${sl} pip</p>
        <p>⚖️ <strong>Risk:Reward Ratio (RR):</strong> ${rr}</p>
      `;

      document.getElementById("signal-result").style.display = "block";
      document.getElementById("signal-result").innerHTML = signalText;

      // Notifikasi dari Chrome (PWA-style)
      if (Notification.permission === "granted") {
        new Notification(`Sinyal ${direction} XAUUSD`, { body: explanation });
      } else if (Notification.permission !== "denied") {
        Notification.requestPermission().then(permission => {
          if (permission === "granted") {
            new Notification(`Sinyal ${direction} XAUUSD`, { body: explanation });
          }
        });
      }
    }
  </script></body>
</html>